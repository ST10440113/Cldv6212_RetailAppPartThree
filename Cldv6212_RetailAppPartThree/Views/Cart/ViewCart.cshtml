@model IEnumerable<Cldv6212_RetailAppPartThree.Models.CartItem>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />
@{
    ViewData["Title"] = "View Cart";
}
<h1 style="font-size:60px; font-display:auto;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"><strong><em>Your Shopping Cart</em></strong></h1>


@if (!Model.Any())
{
    <div>
        <h3>Your cart is currently empty.</h3>
        <a asp-controller="Products" asp-action="UserIndex" class="btn btn-outline-light">Find New Products</a>
    </div>
}
else
{
    <h3>You currently have : @ViewBag.itemCount item/s in your cart</h3>
    <div class="container mt-3">
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-md-3 mb-4">

                    <div class="card bg-dark text-white shadow border-light" style="height: 350px; overflow: hidden;">
                        <div class="card-body p-3 d-flex flex-column justify-content-between">
                            <div>
                                <h6 class="card-title text-white mb-2">@item.ProductName</h6>

                                @if (!string.IsNullOrEmpty(item.ImageUrl))
                                {
                                    <img src="@item.ImageUrl"
                                         alt="Product Image" style="height:150px;width:100%;" />
                                }
                                else
                                {
                                    <p class="text-muted small mb-2">No image available</p>
                                }
                                <p class="small mb-1">Description: <strong>@item.Description</strong></p>
                                <p class="small mb-1">Quantity: <strong>@item.Quantity</strong></p>
                                <p class="small mb-1">Price: <strong>@item.Price</strong></p>




                                <form asp-controller="Cart" asp-action="RemoveFromCart" method="post">
                                    <input type="hidden" name="productId" value="@item.ProductId" />
                                    <button type="submit" class="btn btn-danger" style="font-size:14px">
                                        Remove <i class="fas fa-trash-alt"></i>
                                    </button>
                                </form>

                            </div>
                        </div>

                    </div>
                </div>
            }


        </div>

    </div>
    <div>
        <a asp-controller="Products" asp-action="UserIndex" class="btn btn-outline-info">Continue Shopping</a>
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        <form asp-controller="Cart" asp-action="ClearCart" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger">Clear Cart</button>
        </form>
    </div>
}